var WPRecipeMaker;(()=>{var e={5372:()=>{var e;window.WPRMPrint={args:{},setArgs(e){this.args=e,document.dispatchEvent(new Event("wprmPrintArgs"))},init(){this.checkToggles();const e=document.querySelector("#wprm-print-button-print");e&&e.addEventListener("click",(e=>{e.preventDefault(),this.onClickPrint()}));const t=[...document.querySelectorAll(".wprm-print-toggle")];for(let c of t)c.addEventListener("change",(e=>{this.onClickToggle(c)})),this.onClickToggle(c);const r=document.querySelector("#wprm-print-button-email");r&&r.addEventListener("click",(e=>{e.preventDefault(),this.onClickEmail()}));const i=document.querySelector("#wprm-print-button-pdf");i&&i.addEventListener("click",(e=>{e.preventDefault(),this.onClickPdf()})),this.sizeChanger=document.querySelector("#wprm-print-size-container"),this.initSizeChanger();const n=document.querySelector("#wprm-print-footer-ad");if(n){const e=n.offsetHeight;document.querySelector("body").style.paddingBottom=e+"px"}window.hasOwnProperty("wprm_print_settings")&&window.wprm_print_settings.print_remove_links&&this.removeLinks(),document.dispatchEvent(new Event("wprmPrintInit"));let o=localStorage.getItem("wprmPrintArgs");if(localStorage.removeItem("wprmPrintArgs"),o&&(o=JSON.parse(o),o&&o.hasOwnProperty("id"))){const e=document.querySelector("#wprm-print-recipe-0"),t=!(!e||!e.dataset.hasOwnProperty("recipeId"))&&parseInt(e.dataset.recipeId);t&&t===parseInt(o.id)&&this.setArgs(o)}},removeLinks(){const e=document.querySelector("#wprm-print-content").querySelectorAll("a:not(.wprm-recipe-link)");for(let t of e)t.outerHTML="<span>"+t.innerHTML+"</span>"},checkToggles(){if(!document.querySelectorAll(".wprm-recipe-image").length){const e=document.querySelector("#wprm-print-toggle-recipe-image");e&&(e.parentNode.style.display="none")}if(!document.querySelectorAll(".wprm-recipe-equipment-container").length){const e=document.querySelector("#wprm-print-toggle-equipment");e&&(e.parentNode.style.display="none")}if(!document.querySelectorAll(".wprm-recipe-ingredient-image").length){const e=document.querySelector("#wprm-print-toggle-recipe-ingredient-media");e&&(e.parentNode.style.display="none")}if(!document.querySelectorAll(".wprm-recipe-notes-container").length){const e=document.querySelector("#wprm-print-toggle-recipe-notes");e&&(e.parentNode.style.display="none")}if(!document.querySelectorAll(".wprm-nutrition-label-container").length){const e=document.querySelector("#wprm-print-toggle-recipe-nutrition");e&&(e.parentNode.style.display="none")}},onClickToggle(e){let t=[];"wprm-print-toggle-recipe-image"===e.id?t=document.querySelectorAll(".wprm-recipe-image, .wprm-condition-field-image:not(.wprm-condition-inverse)"):"wprm-print-toggle-recipe-equipment"===e.id?t=document.querySelectorAll(".wprm-recipe-equipment-container"):"wprm-print-toggle-recipe-ingredient-media"===e.id?t=document.querySelectorAll(".wprm-recipe-ingredient-image"):"wprm-print-toggle-recipe-instruction-media"===e.id?t=document.querySelectorAll(".wprm-recipe-instruction-media"):"wprm-print-toggle-recipe-notes"===e.id?t=document.querySelectorAll(".wprm-recipe-notes-container"):"wprm-print-toggle-recipe-nutrition"===e.id?t=document.querySelectorAll(".wprm-recipe-nutrition-header, .wprm-nutrition-label-container, .wprm-condition-field-nutrition:not(.wprm-condition-inverse)"):"wprm-print-toggle-qr"===e.id?t=document.querySelectorAll(".wprm-qr-code-container"):"wprm-print-toggle-collection-name"===e.id?t=document.querySelectorAll(".wprmprc-container-header-container"):"wprm-print-toggle-collection-description"===e.id?t=document.querySelectorAll(".wprmprc-collection-description"):"wprm-print-toggle-collection-images"===e.id?t=document.querySelectorAll(".wprmprc-collection-item-image"):"wprm-print-toggle-collection-servings"===e.id?t=document.querySelectorAll(".wprmprc-collection-item-servings"):"wprm-print-toggle-collection-nutrition"===e.id?t=document.querySelectorAll(".wprmprc-collection-column-nutrition, .wprmprc-collection-item-nutrition"):"wprm-print-toggle-collection-qr"===e.id?t=document.querySelectorAll(".wprmprc-collection-item-qr"):"wprm-print-toggle-shopping-list-collection"===e.id?t=document.querySelectorAll(".wprmprc-shopping-list-collection"):"wprm-print-toggle-shopping-list"===e.id?t=document.querySelectorAll(".wprmprc-shopping-list-list"):"wprm-print-toggle-checked-items"===e.id&&(t=document.querySelectorAll(".wprmprc-shopping-list-list-ingredient-checked"));for(let r of t)e.checked?r.style.display="":r.style.display="none"},onClickPrint(){let e=!1;window.hasOwnProperty("wprm_print_url")&&window.wprm_print_url&&(e=window.location.href,window.history.replaceState({},document.title,window.wprm_print_url)),setTimeout((()=>{window.print()}),200),e&&window.history.replaceState({},document.title,e)},onClickEmail(){window.location="mailto:?body="+window.location},onClickPdf(){},sizeChanger:!1,initSizeChanger(){if(this.sizeChanger){const e=this.sizeChanger.querySelectorAll(".wprm-print-option");for(let t of e)t.addEventListener("click",(()=>{this.setSize(t.dataset.size)}))}},setSize(e){if(["small","normal","large"].includes(e)){const t=this.getSizeMultiplier(e),r=document.querySelectorAll(".wprm-recipe-collections-layout-grid, .wprm-recipe-collections-layout-classic");for(let n of r)switch(e){case"small":n.style.fontSize="0.8em";break;case"normal":n.style.fontSize="";break;case"large":n.style.fontSize="1.2em"}const i=document.querySelectorAll("#wprm-print-content .wprm-print-recipe");if(i.length)for(let e of i){const r=this.getPrintRecipeTemplateRoot(e);this.setScaledFontSizeForElement(r,t)}else{const t=document.querySelector("#wprm-print-content");if(t)switch(e){case"small":t.style.fontSize="0.8em";break;case"normal":t.style.fontSize="";break;case"large":t.style.fontSize="1.2em"}}if(this.sizeChanger){const t=this.sizeChanger.querySelectorAll(".wprm-print-option");for(let r of t)r.classList.remove("option-active"),e===r.dataset.size&&r.classList.add("option-active")}}},getPrintRecipeTemplateRoot(e){if(!e)return!1;const t=e.querySelector('[class*="wprm-recipe-template-"]');return t||!!e.firstElementChild&&e.firstElementChild},getSizeMultiplier(e){switch(e){case"small":return.8;case"large":return 1.2;default:return 1}},setScaledFontSizeForElement(e,t){if(!e)return;if(!e.dataset.hasOwnProperty("wprmPrintOriginalInlineFontSize")){const t=e.style.getPropertyValue("font-size");e.dataset.wprmPrintOriginalInlineFontSize=""===t?"__wprm_empty__":t}if(!e.dataset.hasOwnProperty("wprmPrintOriginalComputedFontSize")){const t=parseFloat(window.getComputedStyle(e).fontSize);!isNaN(t)&&0<t&&(e.dataset.wprmPrintOriginalComputedFontSize=t)}if(1===t)return void("__wprm_empty__"===e.dataset.wprmPrintOriginalInlineFontSize?e.style.removeProperty("font-size"):e.style.setProperty("font-size",e.dataset.wprmPrintOriginalInlineFontSize));const r=parseFloat(e.dataset.wprmPrintOriginalComputedFontSize);!isNaN(r)&&0<r&&(e.style.fontSize=r*t+"px")},maybeRedirect(e){e&&0===Object.keys(this.args).length&&window.location.replace(e)}},e=()=>{window.WPRMPrint.init()},"loading"!=document.readyState?e():document.addEventListener("DOMContentLoaded",e)},8455:()=>{var e;window.WPRecipeMaker=void 0===window.WPRecipeMaker?{}:window.WPRecipeMaker,window.WPRecipeMaker.manager={init:()=>{},recipes:{},findRecipesOnPage:()=>{let e=[];const t=document.querySelectorAll("*[data-recipe-id]");for(let r of t){const t=parseInt(r.dataset.recipeId);t&&e.push(t)}return[...new Set(e)]},resetRecipe:e=>{window.WPRecipeMaker.manager.recipes.hasOwnProperty(`recipe-${e}`)&&delete window.WPRecipeMaker.manager.recipes[`recipe-${e}`]},getRecipe:(e,t=!1)=>(e="preview"===e?e:parseInt(e),window.WPRecipeMaker.manager.recipes.hasOwnProperty(`recipe-${e}`)?Promise.resolve(window.WPRecipeMaker.manager.recipes[`recipe-${e}`]):window.WPRecipeMaker.manager.loadRecipe(e,t)),getRecipeImmediately:e=>{e="preview"===e?e:parseInt(e);let t=!!window.WPRecipeMaker.manager.recipes.hasOwnProperty(`recipe-${e}`)&&window.WPRecipeMaker.manager.recipes[`recipe-${e}`];if(!t&&window.hasOwnProperty("wprm_recipes")&&window.wprm_recipes.hasOwnProperty(`recipe-${e}`)){const r=window.wprm_recipes[`recipe-${e}`];t=window.WPRecipeMaker.manager.loadRecipeObject(e,r),window.WPRecipeMaker.manager.recipes[`recipe-${e}`]=t}return t},loadRecipe:(e,t=!1)=>new Promise(((r,i)=>{new Promise(((r,i)=>{const n=t||e;window.hasOwnProperty("wprm_recipes")&&window.wprm_recipes.hasOwnProperty(`recipe-${n}`)?r(window.wprm_recipes[`recipe-${n}`]):window.WPRecipeMaker.manager.loadRecipeDataFromAPI(n).then((e=>{r(e)}))})).then((t=>{let i=!1;t&&(i=window.WPRecipeMaker.manager.loadRecipeObject(e,t)),window.WPRecipeMaker.manager.recipes[`recipe-${e}`]=i,r(i)}))})),loadRecipeDataFromAPI:e=>{let t={Accept:"application/json","Content-Type":"application/json"};return 0<parseInt(wprm_public.user)&&(t["X-WP-Nonce"]=wprm_public.api_nonce),new Promise(((r,i)=>{fetch(`${wprm_public.endpoints.manage}/recipe/${e}`,{method:"POST",headers:t,credentials:"same-origin",body:JSON.stringify({format:"frontend"})}).then((e=>!!e.ok&&e.json())).then((e=>{r(e)}))}))},loadRecipeObject:(e,t)=>{let r={id:e,data:t,setServings:(...e)=>{},setAdvancedServings:(...e)=>{},setUnitSystem:(...e)=>{},addRating:(...e)=>{}};return window.WPRecipeMaker.hasOwnProperty("managerPremium")&&(r=window.WPRecipeMaker.managerPremium.loadRecipeObject(e,r)),r},triggerChangeEvent:(e,t)=>{document.dispatchEvent(new CustomEvent("wprm-recipe-change",{detail:{id:e,type:t}}))},changeRecipeData:(e,t)=>{window.WPRecipeMaker.manager.recipes.hasOwnProperty(`recipe-${e}`)&&(window.WPRecipeMaker.manager.recipes[`recipe-${e}`].data={...window.WPRecipeMaker.manager.recipes[`recipe-${e}`].data,...t},document.dispatchEvent(new CustomEvent("wprm-recipe-change-data",{detail:{id:e}})))}},e=()=>{window.WPRecipeMaker.manager.init()},"loading"!=document.readyState?e():document.addEventListener("DOMContentLoaded",e)}},t={};function r(i){var n=t[i];if(void 0!==n)return n.exports;var o=t[i]={exports:{}};return e[i](o,o.exports,r),o.exports}r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var i in t)r.o(t,i)&&!r.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var i={};(()=>{"use strict";r.r(i);r(5372),r(8455)})(),(WPRecipeMaker=void 0===WPRecipeMaker?{}:WPRecipeMaker)["wp-recipe-maker/dist/print"]=i})();